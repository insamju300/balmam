DROP DATABASE IF EXISTS `Balmam`;
CREATE DATABASE `Balmam`;
USE `Balmam`;

CREATE TABLE mediaFiles (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    regDate TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updateDate TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    name VARCHAR(255),
    size BIGINT,
    type VARCHAR(50)
);

INSERT INTO mediaFiles SET `name`= 'boy.webp', size = 203486, `type`='image';
INSERT INTO mediaFiles SET `name`= 'girl.webp', size = 203486, `type`='image';
INSERT INTO mediaFiles SET `name`= 'yongman.webp', size = 203486, `type`='image';
INSERT INTO mediaFiles SET `name`= 'youngwoman.webp', size = 203486, `type`='image';
INSERT INTO mediaFiles SET `name`= 'grandpa.webp', size = 203486, `type`='image';
INSERT INTO mediaFiles SET `name`= 'grandma.webp', size = 203486, `type`='image';

CREATE TABLE `Member` (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    regDate TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updateDate TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    email VARCHAR(255) UNIQUE NOT NULL,
    `password` VARCHAR(255) NOT NULL,
    nickname VARCHAR(100) NOT NULL,
    introduction TEXT,
    profileImageId BIGINT,
    isWithdrawn BOOLEAN DEFAULT FALSE,
    withdrawalDate DATETIME,
    emailVerified BOOLEAN DEFAULT FALSE
);





CREATE TABLE EmailAuthentications (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    memberId BIGINT NOT NULL,
    token VARCHAR(255) NOT NULL,
    createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,
    expiresAt DATETIME NOT NULL,
    verified BOOLEAN DEFAULT FALSE,
    type VARCHAR(50)
);